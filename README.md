# GuitarToTabs

## Описание
GuitarToTabs — это утилита для автоматического извлечения гитарных табулатур из аудиофайлов в формате MP3. Программа предназначена для гитаристов, преподавателей и музыкантов, которым нужно быстро получить табулатуру сыгранной мелодии или соло без ручного разбора на слух.

## Сборка

Требования:
- CMake >= 3.14
- Компилятор с поддержкой C++17
- (Windows) Visual Studio 2019/2022 или MinGW

Инструкция:
```sh
mkdir build
cd build
cmake ..
cmake --build . --config Release
```
Исполняемый файл появится как `main` (или `main.exe` на Windows) в папке `build/Release`.

## Запуск

Минимальный запуск:
```sh
./Release/main путь_к_файлу.mp3
```

С указанием BPM и окна фильтра:
```sh
./Release/main путь_к_файлу.mp3 90 7
```
- `путь_к_файлу.mp3` — путь к mp3-файлу
- `90` — темп в ударах в минуту (BPM)
- `7` — ширина окна FIR-фильтра (обычно исполбзуются значения 3-12)

### Пример работы

```
$ ./main mp3tests/test3_minor_scale.mp3 80 5
Loaded: mp3tests/test3_minor_scale.mp3, samples: 123456, sampleRate: 44100
analisis cmpleted 123456 samples.
filtered 123456 samples.
pitched 120 pitch results.
extracted 10 note segments.
Using BPM: 80
midi completed with 10 beats.

Generated Guitar Tab:
e|-0----2----4----5----7----9----11---12---
B|-----------------------------------------
G|-----------------------------------------
D|-----------------------------------------
A|-----------------------------------------
E|-----------------------------------------
   o    o    o    o    o    o    o    o   

```

## Структура проекта
- `src/` — исходный код модулей
- `include/` — заголовочные файлы
- `tests/` — модульные тесты (doctest)
- `mp3tests/` — примеры mp3 и pdf-табулатур
- `docs/` — документация (Doxygen)

## Типовой сценарий использования
1. Запишите гитарную партию на диктофон/телефон в mp3.
2. Запустите программу с этим файлом:
   ```sh
   ./main myriff.mp3 75 5
   ```
3. Получите ASCII-табулатуру в консоли или перенаправьте вывод в файл:
   ```sh
   ./main myriff.mp3 > myriff_tab.txt
   ```
4. (Опционально) Введите диапазоны ладов и длительности для каждой ноты (по запросу программы).

## Ограничения и рекомендации
- Программа лучше всего работает с одноголосыми партиями (соло, мелодии).
- Для сложных аккордов и полифонии точность ниже.
- Качество результата зависит от чистоты записи и темпа.

## Документация и тесты
- Для генерации документации используйте Doxygen:
  ```sh
  doxygen Doxyfile
  ```
- Для запуска тестов:
  ```sh
  ctest --output-on-failure
  ```

## Обратная связь
Вопросы, баги и предложения — через Issues или Pull Requests.

---

*GuitarToTabs — автоматизация рутинного труда музыканта!*
